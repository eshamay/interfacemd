include ../Makefile

AMBERFILES	= ../ambersystem.o ../atom.o ../connectmatrix.o ../crdfile.o ../dipoleparm.o ../forcefile.o ../h2o.o ../hno3.o ../molecule.o ../topfile.o ../vecr.o
MORITAFILES	= morita.o $(AMBERFILES) ../watersfg.o ../matrixr.o
DENSITYFILES = $(AMBERFILES) ../density.o
XYZSYSTEM = ../xyzsystem.o ../xyzfile.o ../atom.o ../h2o.o ../hno3.o ../molecule.o ../vecr.o ../wannier.o ../connectmatrix.o
DIPOLETCF = $(XYZSYSTEM) xyzdipole_analysis.o 
QPT = $(XYZSYSTEM) ../hno3analysis.o Qpt.o
MDCRD2PDB = $(AMBERFILES) ../pdbfile.o mdcrd2pdb.o
FILLBOX = $(AMBERFILES) ../pdbfile.o ../boxfiller.o

ambertest : ambertest.o $(AMBERFILES)
	$(CXX) $(CFLAGS) ambertest.o $(AMBERFILES) -o ambertest
	
densitytest : densitytest.o $(DENSITYFILES)
	$(CXX) $(CFLAGS) -g densitytest.o $(DENSITYFILES) -o densitytest

morita : $(MORITAFILES)
	$(CXX) $(DEBUG) $(CFLAGS) $(MORITAFILES) -o morita
	
matrixtest : matrixtest.o ../vecr.o ../matrixr.o
	$(CXX) $(CFLAGS) matrixtest.o ../vecr.o ../matrixr.o -o matrixtest
	
toptest : toptest.o ../topfile.o
	$(CXX) $(CFLAGS) toptest.o ../topfile.o -o toptest

angletest: angledistro.o $(AMBERFILES)
	$(CXX) $(CFLAGS) angledistro.o $(AMBERFILES) -o angledistro

dipoletcf : $(DIPOLETCF)
	$(CXX) $(CFLAGS) $(DIPOLETCF) -o dipoletcf

qpt : $(QPT)
	$(CXX) $(CFLAGS) -o qpt_test $(QPT) 

closest : $(AMBERFILES) closest.o ../pdbfile.o
	$(CXX) $(CFLAGS) closest.o ../pdbfile.o $(AMBERFILES) -o closest

mdcrd2pdb : $(MDCRD2PDB)
	$(CXX) $(CFLAGS) $(MDCRD2PDB) -o mdcrd2pdb

fillbox : $(FILLBOX) fillbox.o
	$(CXX) $(CFLAGS) fillbox.o $(FILLBOX) -o fillbox

temp: $(XYZSYSTEM) temp.cc
	$(CXX) $(CFLAGS) $(XYZSYSTEM) -o temp temp.cc

cleantest :
	rm -f *.o morita matrixtest toptest ambertest densitytest dipoletcf angledistro qpt_test a.out mdcrd2pdb closest fillbox test

densitytest.o: densitytest.cc densitytest.h
toptest.o: toptest.cc toptest.h
matrixtest.o: matrixtest.cc ../matrixr.cc ../matrixr.h
morita.o: morita.cc morita.h
ambertest.o: ambertest.cc ambertest.h
angletest.o: angledistro.cc angledistro.h
Qpt.o: Qpt.cc Qpt.h
closest.o: closest.cc
mdcrd2pdb.o: mdcrd2pdb.cc
fillbox.o: fillbox.cc
